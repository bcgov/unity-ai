<div class="sidebar-overlay" [class.open]="isOpen" (click)="onToggle()"></div>

<div class="sidebar" [class.open]="isOpen">
  <div class="sidebar-header">
    <button class="sidebar-close-btn" (click)="onToggle()">
      ×
    </button>
    <h2>Chats</h2>
    <button class="new-chat-btn" (click)="onNewChat()">
      <span class="new-chat-icon">📝</span>
    </button>
  </div>

  <div class="sidebar-content">
    <div *ngIf="loading" class="loading">
      Loading chats...
    </div>

    <div *ngIf="!loading && chats.length === 0" class="empty-state">
      No chats yet. Start a new conversation!
    </div>

    <div class="chat-list" *ngIf="!loading && chats.length > 0">
      <div 
        *ngFor="let chat of chats" 
        class="chat-item"
        (click)="onChatSelect(chat)"
      >
        <div class="chat-title">{{ chat.title }}</div>
        <div class="chat-date">{{ formatToPST(chat.updated_at) }}</div>
        <button 
          class="delete-chat-btn" 
          (click)="deleteChat(chat, $event)"
          title="Delete chat"
        >
          🗑️
        </button>
      </div>
    </div>
  </div>
</div>

<button class="sidebar-toggle" (click)="onToggle()" [class.hidden]="isOpen">
  ☰
</button>